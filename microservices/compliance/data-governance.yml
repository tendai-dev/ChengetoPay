# Data Governance Configuration for Financial Platform
# Comprehensive data lifecycle management and governance

# Data Governance Framework
data_governance:
  # Data Classification
  data_classification:
    enabled: true
    
    # Classification Levels
    levels:
      - name: "public"
        description: "Public information"
        sensitivity: "low"
        retention: "1 year"
        encryption: false
        
      - name: "internal"
        description: "Internal business information"
        sensitivity: "medium"
        retention: "3 years"
        encryption: true
        
      - name: "confidential"
        description: "Confidential business information"
        sensitivity: "high"
        retention: "5 years"
        encryption: true
        
      - name: "restricted"
        description: "Highly sensitive information"
        sensitivity: "very_high"
        retention: "7 years"
        encryption: true
        
      - name: "pci_data"
        description: "Payment card information"
        sensitivity: "critical"
        retention: "7 years"
        encryption: true
        pci_compliant: true

  # Data Lifecycle Management
  data_lifecycle:
    enabled: true
    
    # Lifecycle Stages
    stages:
      - name: "creation"
        description: "Data creation and ingestion"
        controls: ["data_validation", "classification", "encryption"]
        
      - name: "processing"
        description: "Data processing and transformation"
        controls: ["access_controls", "audit_logging", "data_quality"]
        
      - name: "storage"
        description: "Data storage and retention"
        controls: ["encryption", "backup", "retention_policies"]
        
      - name: "access"
        description: "Data access and usage"
        controls: ["authentication", "authorization", "monitoring"]
        
      - name: "archival"
        description: "Data archival and long-term storage"
        controls: ["compression", "encryption", "access_controls"]
        
      - name: "deletion"
        description: "Data deletion and disposal"
        controls: ["secure_deletion", "verification", "documentation"]

# Data Quality Management
data_quality:
  # Quality Dimensions
  quality_dimensions:
    - name: "accuracy"
      description: "Data accuracy and correctness"
      metrics: ["error_rate", "validation_errors", "data_corrections"]
      
    - name: "completeness"
      description: "Data completeness and missing values"
      metrics: ["null_values", "missing_fields", "completion_rate"]
      
    - name: "consistency"
      description: "Data consistency across systems"
      metrics: ["format_consistency", "value_consistency", "cross_system_consistency"]
      
    - name: "timeliness"
      description: "Data timeliness and freshness"
      metrics: ["data_age", "update_frequency", "real_time_availability"]
      
    - name: "validity"
      description: "Data validity and format compliance"
      metrics: ["format_validation", "range_validation", "business_rule_validation"]
      
    - name: "uniqueness"
      description: "Data uniqueness and duplicates"
      metrics: ["duplicate_records", "unique_constraints", "deduplication_rate"]

  # Quality Monitoring
  quality_monitoring:
    enabled: true
    
    # Monitoring Rules
    monitoring_rules:
      - name: "DataAccuracyCheck"
        description: "Check data accuracy"
        condition: "error_rate > 5%"
        severity: "warning"
        action: "alert"
        
      - name: "DataCompletenessCheck"
        description: "Check data completeness"
        condition: "completion_rate < 95%"
        severity: "warning"
        action: "alert"
        
      - name: "DataConsistencyCheck"
        description: "Check data consistency"
        condition: "consistency_score < 90%"
        severity: "warning"
        action: "alert"
        
      - name: "DataTimelinessCheck"
        description: "Check data timeliness"
        condition: "data_age > 24 hours"
        severity: "warning"
        action: "alert"

# Data Lineage
data_lineage:
  # Lineage Tracking
  lineage_tracking:
    enabled: true
    
    # Tracking Components
    components:
      - name: "data_sources"
        description: "Track data sources"
        tracking: ["source_system", "extraction_method", "extraction_time"]
        
      - name: "data_transformations"
        description: "Track data transformations"
        tracking: ["transformation_type", "transformation_rules", "transformation_time"]
        
      - name: "data_movement"
        description: "Track data movement"
        tracking: ["source_location", "destination_location", "movement_time"]
        
      - name: "data_consumption"
        description: "Track data consumption"
        tracking: ["consumer_system", "usage_purpose", "access_time"]

  # Lineage Visualization
  lineage_visualization:
    enabled: true
    tool: "apache_atlas"
    
    # Visualization Features
    features:
      - name: "end_to_end_lineage"
        description: "End-to-end data lineage"
        enabled: true
        
      - name: "impact_analysis"
        description: "Impact analysis for changes"
        enabled: true
        
      - name: "dependency_mapping"
        description: "Data dependency mapping"
        enabled: true

# Data Privacy Management
data_privacy:
  # Privacy Controls
  privacy_controls:
    - name: "data_minimization"
      description: "Collect only necessary data"
      implementation: "purpose_based_collection"
      
    - name: "purpose_limitation"
      description: "Use data only for specified purposes"
      implementation: "purpose_tracking"
      
    - name: "consent_management"
      description: "Manage user consent"
      implementation: "consent_tracking"
      
    - name: "data_subject_rights"
      description: "Support data subject rights"
      implementation: "rights_management"

  # Privacy Monitoring
  privacy_monitoring:
    enabled: true
    
    # Monitoring Areas
    monitoring_areas:
      - name: "consent_compliance"
        description: "Monitor consent compliance"
        metrics: ["consent_rate", "consent_withdrawal_rate", "consent_accuracy"]
        
      - name: "data_subject_requests"
        description: "Monitor data subject requests"
        metrics: ["request_volume", "response_time", "completion_rate"]
        
      - name: "privacy_breaches"
        description: "Monitor privacy breaches"
        metrics: ["breach_count", "breach_severity", "response_time"]

# Data Retention Management
data_retention:
  # Retention Policies
  retention_policies:
    - name: "user_data"
      description: "User personal data"
      retention_period: "5 years"
      deletion_method: "secure_deletion"
      legal_basis: "legitimate_interest"
      
    - name: "financial_data"
      description: "Financial transaction data"
      retention_period: "7 years"
      deletion_method: "secure_deletion"
      legal_basis: "legal_obligation"
      
    - name: "audit_data"
      description: "Audit and compliance data"
      retention_period: "7 years"
      deletion_method: "secure_deletion"
      legal_basis: "legal_obligation"
      
    - name: "system_data"
      description: "System and operational data"
      retention_period: "3 years"
      deletion_method: "secure_deletion"
      legal_basis: "legitimate_interest"

  # Retention Monitoring
  retention_monitoring:
    enabled: true
    
    # Monitoring Rules
    monitoring_rules:
      - name: "RetentionExpiryCheck"
        description: "Check for data retention expiry"
        condition: "retention_period_expired"
        severity: "warning"
        action: "schedule_deletion"
        
      - name: "RetentionComplianceCheck"
        description: "Check retention compliance"
        condition: "retention_violation"
        severity: "critical"
        action: "immediate_deletion"

# Data Access Management
data_access:
  # Access Controls
  access_controls:
    - name: "role_based_access"
      description: "Role-based access control"
      implementation: "rbac_system"
      
    - name: "attribute_based_access"
      description: "Attribute-based access control"
      implementation: "abac_system"
      
    - name: "just_in_time_access"
      description: "Just-in-time access provisioning"
      implementation: "jit_system"
      
    - name: "privileged_access"
      description: "Privileged access management"
      implementation: "pam_system"

  # Access Monitoring
  access_monitoring:
    enabled: true
    
    # Monitoring Areas
    monitoring_areas:
      - name: "access_patterns"
        description: "Monitor access patterns"
        metrics: ["access_frequency", "access_times", "access_locations"]
        
      - name: "privileged_access"
        description: "Monitor privileged access"
        metrics: ["privileged_sessions", "privileged_actions", "privileged_users"]
        
      - name: "anomalous_access"
        description: "Monitor anomalous access"
        metrics: ["unusual_access", "failed_access", "suspicious_access"]

# Data Governance Reporting
data_governance_reporting:
  # Automated Reports
  automated_reports:
    - name: "DataQualityReport"
      description: "Data quality report"
      schedule: "0 6 * * *"
      recipients: ["data_governance@financialplatform.com"]
      
    - name: "DataPrivacyReport"
      description: "Data privacy report"
      schedule: "0 7 * * *"
      recipients: ["privacy@financialplatform.com"]
      
    - name: "DataRetentionReport"
      description: "Data retention report"
      schedule: "0 8 * * *"
      recipients: ["data_governance@financialplatform.com"]
      
    - name: "DataAccessReport"
      description: "Data access report"
      schedule: "0 9 * * *"
      recipients: ["security@financialplatform.com"]

# Data Governance Alerts
data_governance_alerts:
  # Alert Configuration
  alert_configuration:
    enabled: true
    
    # Alert Rules
    alert_rules:
      - name: "DataQualityAlert"
        description: "Data quality issue detected"
        condition: "data_quality_score < 90%"
        severity: "warning"
        channels: ["slack", "email"]
        
      - name: "PrivacyBreachAlert"
        description: "Privacy breach detected"
        condition: "privacy_breach_detected"
        severity: "critical"
        channels: ["slack", "email", "pagerduty"]
        
      - name: "RetentionViolationAlert"
        description: "Data retention violation"
        condition: "retention_violation_detected"
        severity: "critical"
        channels: ["slack", "email", "pagerduty"]
        
      - name: "UnauthorizedAccessAlert"
        description: "Unauthorized data access"
        condition: "unauthorized_access_detected"
        severity: "critical"
        channels: ["slack", "email", "pagerduty"]

# Data Governance Documentation
data_governance_documentation:
  # Policy Documentation
  policy_documentation:
    - name: "DataGovernancePolicy"
      description: "Data governance policy"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataQualityPolicy"
      description: "Data quality policy"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataPrivacyPolicy"
      description: "Data privacy policy"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataRetentionPolicy"
      description: "Data retention policy"
      version: "1.0"
      last_updated: "2024-01-01"

  # Procedure Documentation
  procedure_documentation:
    - name: "DataClassificationProcedure"
      description: "Data classification procedure"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataQualityProcedure"
      description: "Data quality procedure"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataRetentionProcedure"
      description: "Data retention procedure"
      version: "1.0"
      last_updated: "2024-01-01"
      
    - name: "DataAccessProcedure"
      description: "Data access procedure"
      version: "1.0"
      last_updated: "2024-01-01"
