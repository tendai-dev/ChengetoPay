input {
  beats { port => 5044 }
  tcp { port => 5000; codec => json }
}

filter {
  if [service] { mutate { add_tag => ["financial-platform"] } }
  if [level] == "ERROR" { mutate { add_tag => ["error"] } }
  if [level] == "CRITICAL" { mutate { add_tag => ["critical"] } }
}

output {
  elasticsearch {
    hosts => ["elasticsearch:9200"]
    index => "financial-platform-%{+YYYY.MM.dd}"
  }
}
