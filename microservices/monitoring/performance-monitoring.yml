# Performance Monitoring Configuration
metrics:
  - name: "response_time_p95"
    query: "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))"
    threshold: 0.5
    
  - name: "throughput"
    query: "rate(http_requests_total[5m])"
    threshold: 1000
    
  - name: "error_rate"
    query: "rate(http_requests_total{status=~\"5..\"}[5m]) / rate(http_requests_total[5m])"
    threshold: 0.05
    
  - name: "cache_hit_ratio"
    query: "rate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m]))"
    threshold: 0.8

alerts:
  - name: "HighResponseTime"
    condition: "response_time_p95 > 0.5"
    severity: "warning"
    
  - name: "LowThroughput"
    condition: "throughput < 1000"
    severity: "warning"
    
  - name: "HighErrorRate"
    condition: "error_rate > 0.05"
    severity: "critical"
    
  - name: "LowCacheHitRatio"
    condition: "cache_hit_ratio < 0.8"
    severity: "warning"
